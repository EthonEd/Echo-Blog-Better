{% extends 'base.html' %}

{% block header %}
  {#  <h3>Blogs</h3>#}
{% endblock %}


{% block content %}

  {% for blog in blogs %}
    <div class="panel">
      <h3>
        <a href="{% url 'blog:blog' blog.id %}" id="me-a-title">{{ blog.title }}</a>
        <small>
          <span class="glyphicon glyphicon-tag " aria-hidden="true"><a href="#">{{ blog.tag }}</a></span>
        </small>
      </h3>
      <p>
        posted {{ blog.pub_date|date:'Y-m-d' }} views 2
      </p>
      <div class="panel-body" id="me-p-body">
        {{ blog.content|truncatechars:150|safe }}
      </div>
    </div> <!-- panel -->
  {% empty %}
     <div class="jumbotron" style="background-color: transparent">
        <h3>暂时没有随笔哦, 敬请期待...</h3>
        {% if user.is_authenticated %}
          <p>
            <a href="{% url 'blog:new_blog' %}" id="me-a-title">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加新随笔</a>
          </p>
          {% else %}
          <p>登录或注册后可在创建自己的随笔！</p>
        {% endif %}
      </div>
  {% endfor %}


<!-- 放在content块外不显示， 分页设计 -->

<div>
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li>
        {% if blogs.has_previous %}
          <a href="?page=1">&laquo; 首页</a>
          <a href="?page={{ blogs.previous_page_number }}" aria-label="Previous"><span
                  aria-hidden="true">上一页</span></a>
        {% endif %}
      </li>
      <li>
  <span class="current">
    第 {{ blogs.number }} 页 共 {{ blogs.paginator.num_pages }} 页.
  </span>
      </li>

      <li>
        {% if blogs.has_next %}
          <a href="?page={{ blogs.next_page_number }}" aria-label="Next"><span
                  aria-hidden="true">下一页</span></a>
          <a href="?page={{ blogs.paginator.num_pages }}">尾页 &raquo;</a>
        {% endif %}
      </li>
    </ul>
  </nav>
</div>

{% endblock %}


{% block content_right %}
  <div class="panel">
    {#  <div class="page-header">#}
    <h3>标签分类</h3>
    {#  </div>#}
  </div>
  <div class="panel-body" id="me-p-body">
    <button type="button" class="btn btn-default btn-sm">
      <a href="#"
         style="color: black; float: left">django</a>
    </button>
  <button type="button" class="btn btn-default btn-sm">
      <a href="#"
         style="color: black; float: left">python</a>
    </button>
  </div>
{% endblock %}


